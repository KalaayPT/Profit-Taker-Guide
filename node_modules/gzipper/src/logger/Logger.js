"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Logger = void 0;
var filter_decorator_1 = require("./filter.decorator");
var LogLevel_enum_1 = require("./LogLevel.enum");
var helpers_1 = require("../helpers");
/**
 * Custom logger.
 */
var Logger = /** @class */ (function () {
    function Logger() {
    }
    /**
     * Set verbose mode.
     */
    Logger.setOptions = function (options) {
        Logger.verbose = !!options.verbose;
        Logger.color = helpers_1.Helpers.getLogColor(options.color);
    };
    /**
     * Log message.
     */
    Logger.log = function (message, level) {
        if (level === void 0) { level = LogLevel_enum_1.LogLevel.DEBUG; }
        return Logger.logger(message, level);
    };
    /**
     * Colorize messages depends on the level and return a wrapper.
     */
    Logger.logger = function (message, level) {
        var colorfulMessage;
        var prefix = 'gzipper';
        level = !Logger.color ? LogLevel_enum_1.LogLevel.DEBUG : level;
        switch (level) {
            case LogLevel_enum_1.LogLevel.INFO:
                colorfulMessage = "\u001B[30;46m".concat(prefix, ":\u001B[0m\u001B[36m %s\u001B[0m");
                break;
            case LogLevel_enum_1.LogLevel.ERROR:
                colorfulMessage = "\u001B[30;41m".concat(prefix, ":\u001B[0m\u001B[31m %s\u001B[0m");
                break;
            case LogLevel_enum_1.LogLevel.WARNING:
                colorfulMessage = "\u001B[30;43m".concat(prefix, ":\u001B[0m\u001B[33m %s\u001B[0m");
                break;
            case LogLevel_enum_1.LogLevel.SUCCESS:
                colorfulMessage = "\u001B[30;42m".concat(prefix, ":\u001B[0m\u001B[32m %s\u001B[0m");
                break;
            case LogLevel_enum_1.LogLevel.DEBUG:
            default:
                colorfulMessage = "".concat(prefix, ": %s");
                break;
        }
        console.log(colorfulMessage, message);
    };
    __decorate([
        (0, filter_decorator_1.filter)()
    ], Logger, "log", null);
    return Logger;
}());
exports.Logger = Logger;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xvZ2dlci9Mb2dnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsdURBQTRDO0FBQzVDLGlEQUEyQztBQUMzQyxzQ0FBcUM7QUFHckM7O0dBRUc7QUFDSDtJQUFBO0lBcURBLENBQUM7SUFqREM7O09BRUc7SUFDSSxpQkFBVSxHQUFqQixVQUFrQixPQUFtRDtRQUNuRSxNQUFNLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxLQUFLLEdBQUcsaUJBQU8sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRDs7T0FFRztJQUVJLFVBQUcsR0FBVixVQUFjLE9BQVUsRUFBRSxLQUFnQztRQUFoQyxzQkFBQSxFQUFBLFFBQWtCLHdCQUFRLENBQUMsS0FBSztRQUN4RCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRDs7T0FFRztJQUNZLGFBQU0sR0FBckIsVUFBeUIsT0FBVSxFQUFFLEtBQWU7UUFDbEQsSUFBSSxlQUF1QixDQUFDO1FBQzVCLElBQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUN6QixLQUFLLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyx3QkFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBRS9DLFFBQVEsS0FBSyxFQUFFO1lBQ2IsS0FBSyx3QkFBUSxDQUFDLElBQUk7Z0JBQ2hCLGVBQWUsR0FBRyx1QkFBYyxNQUFNLHFDQUE0QixDQUFDO2dCQUNuRSxNQUFNO1lBRVIsS0FBSyx3QkFBUSxDQUFDLEtBQUs7Z0JBQ2pCLGVBQWUsR0FBRyx1QkFBYyxNQUFNLHFDQUE0QixDQUFDO2dCQUNuRSxNQUFNO1lBRVIsS0FBSyx3QkFBUSxDQUFDLE9BQU87Z0JBQ25CLGVBQWUsR0FBRyx1QkFBYyxNQUFNLHFDQUE0QixDQUFDO2dCQUNuRSxNQUFNO1lBRVIsS0FBSyx3QkFBUSxDQUFDLE9BQU87Z0JBQ25CLGVBQWUsR0FBRyx1QkFBYyxNQUFNLHFDQUE0QixDQUFDO2dCQUNuRSxNQUFNO1lBRVIsS0FBSyx3QkFBUSxDQUFDLEtBQUssQ0FBQztZQUNwQjtnQkFDRSxlQUFlLEdBQUcsVUFBRyxNQUFNLFNBQU0sQ0FBQztnQkFDbEMsTUFBTTtTQUNUO1FBRUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQXBDRDtRQURDLElBQUEseUJBQU0sR0FBRTsyQkFHUjtJQW1DSCxhQUFDO0NBQUEsQUFyREQsSUFxREM7QUFyRFksd0JBQU0ifQ==